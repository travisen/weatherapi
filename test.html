<!DOCTYPE html>
<!--
Update your function that makes calls to Open Weather Map to accept either a zip code or a city and state via a form (there should be an input for both and depending on which one is used your page should construct the correct URL), add a button to submit that data and display results in a reasonable way to users. It should at least show the city, current temperature and humidity.
-->

<html>
  <head>
    <script>
      //document.querySelector("input").focus();

      document.addEventListener('DOMContentLoaded', bindButtons);

      function bindButtons(){
        document.getElementById('zipSubmit').addEventListener('click', function(event) {
        var req = new XMLHttpRequest();

        var payload = {zip:null};
        // saves value of field zipIn to payload.zip
        payload.zip = document.getElementById('zipIn').value; 

       // console.log(payload.zip);
      //var zipSubmit = document.querySelector("zipSend");  

        req.open("GET", "http://api.openweathermap.org/data/2.5/weather?zip=" + payload.zip +
          ",us&appid=fa7d80c48643dfadde2cced1b1be6ca1", false);
        req.send(null);

        console.log(JSON.parse(req.responseText));

        event.preventDefault();
      })
    }

    </script>
  </head>
  <body>
    <h1>Weather</h1>
    <form>
      <fieldset>
        <legend> <h2>Zipcode Submission</h2> </legend>
        <p><input id="zipIn" type="text"
         value="enter zip"> Zipcode</p>
         <input type="submit" id="zipSubmit">
      </fieldset>
    </form>

       <!--
      <p><input id="city" type="text" 
        value="enter city, state">
       City and State</p>-->



    <h2>Results</h2>

  </body>
</html>
